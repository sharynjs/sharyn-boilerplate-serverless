org: verekia
app: sharyn-boilerplate-serverless
service: sharyn-boilerplate-serverless

provider:
  name: aws
  runtime: nodejs10.x

plugins:
  - serverless-offline
  - serverless-webpack

custom:
  webpack:
    config: webpack.functions.config.js

functions:
  graphql:
    handler: src/functions/graphql.main
    events:
      - http:
          path: graphql
          method: any
          cors: true

  get-notes:
    handler: src/functions/ssr.getNotes
    events:
      - http:
          path: ''
          method: get
          cors: true

  get-note:
    handler: src/functions/ssr.getNote
    events:
      - http:
          path: note/{id}
          method: get
          cors: true
